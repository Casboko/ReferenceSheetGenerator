# エラー/再試行/文言（MVP）

- 目的: 想定失敗と再試行方針、ユーザ向け日本語メッセージを統一。
- 想定読者: 実装/QA/CS。

## 想定失敗
- 429 レート制限: 指数バックオフ（1s,2s,4s…）→失敗時はガイダンス
- 5xx 外部失敗: 速やかに再試行、上限回数で打ち切り
- 400 入力不正: 即時ユーザ通知（枚数/サイズ/形式）
- 安全ブロック: 表現を緩和するガイダンス

## ユーザ向け文言例
- RATE_LIMITED: 「混み合っています。数秒後に再実行してください。」
- SIZE_TOO_LARGE: 「画像サイズが大きすぎます（上限7MB）。」
- SAFETY_BLOCKED: 「安全ポリシーにより生成できませんでした。」

## ログ/監視（最小）
- 失敗種別/回数/遅延を記録

## 完成定義（DoD）
- api-spec のエラー表と整合
- UI文言が決定している

## 更新トリガー
- 新しい失敗モードの発見、ポリシー変更

---
関連: `./api-spec.md`, `./performance-ops.md`, `./ui-ux-spec.md`

